{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      message: \"HI\",\n      articles: [],\n      showCategories: false,\n      categories: [],\n      selectedCategories: [],\n      filteredArticles: []\n    };\n  },\n\n  mounted() {\n    this.getArticles();\n    this.getCategories();\n  },\n\n  watch: {\n    selectedCategories() {\n      this.getFilteredArticles();\n    }\n\n  },\n  methods: {\n    getFilteredArticles() {\n      axios.get(\"https://59esd0ee.directus.app/items/categories_posts?filter[categories_id]=1&fields=*.*.*\").then(response => {\n        console.log(\"filter success\", response.data.data);\n        this.filteredArticles = response.data.data;\n        const result = response.data.data.map(item => {\n          return {\n            this: item.posts_id\n          };\n        });\n      }).catch(error => {\n        console.log(\"error\", error);\n      });\n    },\n\n    updateSelectedCategories(item) {\n      // console.log(item.id);\n      // console.log(item);\n      // console.log(this.selectedCategories.includes(item.id));\n      if (!this.selectedCategories.includes(item.id)) {\n        this.selectedCategories.push(item.id); // console.log(this.selectedCategories);\n      } else {\n        let x = this.selectedCategories.indexOf(item.id);\n        this.selectedCategories.splice(x, 1);\n      }\n    },\n\n    toggleShowCategories() {\n      this.showCategories = !this.showCategories;\n    },\n\n    getDetails(item) {\n      this.$router.push({\n        path: `/details/${item.id}`\n      });\n    },\n\n    getArticles() {\n      axios.get(\"https://59esd0ee.directus.app/items/posts\").then(response => {\n        console.log(\"success\", response.data.data);\n        this.articles = response.data.data;\n      }).catch(error => {\n        console.log(\"error\", error);\n      });\n    },\n\n    getCategories() {\n      axios.get(\"https://59esd0ee.directus.app/items/categories\").then(response => {\n        console.log(\"success\", response.data.data);\n        this.categories = response.data.data;\n      }).catch(error => {\n        console.log(\"error\", error);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CA;AACA;EACAA;IACA;MACAC,aADA;MAEAC,YAFA;MAGAC,qBAHA;MAIAC,cAJA;MAKAC,sBALA;MAMAC;IANA;EAQA,CAVA;;EAWAC;IACA;IACA;EACA,CAdA;;EAeAC;IACAH;MACA;IACA;;EAHA,CAfA;EAoBAI;IACAC;MACAC,MACAC,GADA,CAEA,2FAFA,EAIAC,IAJA,CAIAC;QACAC;QACA;QACA;UACA;YACAC;UADA;QAGA,CAJA;MAKA,CAZA,EAaAC,KAbA,CAaAC;QACAH;MACA,CAfA;IAgBA,CAlBA;;IAmBAI;MACA;MACA;MACA;MACA;QACA,sCADA,CAEA;MACA,CAHA,MAGA;QACA;QACA;MACA;IACA,CA9BA;;IA+BAC;MACA;IACA,CAjCA;;IAkCAC;MACA;QAAAC;MAAA;IACA,CApCA;;IAqCAC;MACAZ,MACAC,GADA,CACA,2CADA,EAEAC,IAFA,CAEAC;QACAC;QACA;MACA,CALA,EAMAE,KANA,CAMAC;QACAH;MACA,CARA;IASA,CA/CA;;IAgDAS;MACAb,MACAC,GADA,CACA,gDADA,EAEAC,IAFA,CAEAC;QACAC;QACA;MACA,CALA,EAMAE,KANA,CAMAC;QACAH;MACA,CARA;IASA;;EA1DA;AApBA","names":["data","message","articles","showCategories","categories","selectedCategories","filteredArticles","mounted","watch","methods","getFilteredArticles","axios","get","then","response","console","this","catch","error","updateSelectedCategories","toggleShowCategories","getDetails","path","getArticles","getCategories"],"sourceRoot":"src/views","sources":["ArticleListView.vue"],"sourcesContent":["<template>\n  <div id=\"al-main\">\n    <div style=\"border: 2px solid red\" class=\"ma-5 text-center\">\n      <span @click=\"toggleShowCategories\">Categories</span>\n      <div v-if=\"showCategories\">\n        <!-- {{ selectedCategories }} -->\n        <span v-for=\"(category, index) in categories\" :key=\"index\">\n          <v-chip\n            class=\"ma-3\"\n            :dark=\"selectedCategories.includes(category.id)\"\n            :color=\"\n              selectedCategories.includes(category.id) ? 'black' : 'white'\n            \"\n            @click=\"updateSelectedCategories(category)\"\n            >{{ category.name }}</v-chip\n          >\n        </span>\n      </div>\n    </div>\n    <h1 class=\"text-center abril\">Articles</h1>\n    <div id=\"a-wrapper\" class=\"ma-3\">\n      <div\n        v-for=\"(item, index) in articles\"\n        :key=\"index\"\n        class=\"elevation-3 article\"\n        @click=\"getDetails(item)\"\n      >\n        <img\n          v-if=\"item.pic\"\n          :src=\"`https://59esd0ee.directus.app/assets/${item.pic}`\"\n          alt=\"featured image\"\n        />\n        <img\n          v-else\n          src=\"https://www.thetipsymacaron.com/wp-content/uploads/cotton-candy-macarons.jpg\n            \"\n          alt=\"featured image\"\n        />\n        <span class=\"text-center article-title\">\n          <strong>{{ item.title }}</strong>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nexport default {\n  data() {\n    return {\n      message: \"HI\",\n      articles: [],\n      showCategories: false,\n      categories: [],\n      selectedCategories: [],\n      filteredArticles: [],\n    };\n  },\n  mounted() {\n    this.getArticles();\n    this.getCategories();\n  },\n  watch: {\n    selectedCategories() {\n      this.getFilteredArticles();\n    },\n  },\n  methods: {\n    getFilteredArticles() {\n      axios\n        .get(\n          \"https://59esd0ee.directus.app/items/categories_posts?filter[categories_id]=1&fields=*.*.*\"\n        )\n        .then((response) => {\n          console.log(\"filter success\", response.data.data);\n          this.filteredArticles = response.data.data;\n          const result = response.data.data.map((item) => {\n            return {\n              this: item.posts_id,\n            };\n          });\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n        });\n    },\n    updateSelectedCategories(item) {\n      // console.log(item.id);\n      // console.log(item);\n      // console.log(this.selectedCategories.includes(item.id));\n      if (!this.selectedCategories.includes(item.id)) {\n        this.selectedCategories.push(item.id);\n        // console.log(this.selectedCategories);\n      } else {\n        let x = this.selectedCategories.indexOf(item.id);\n        this.selectedCategories.splice(x, 1);\n      }\n    },\n    toggleShowCategories() {\n      this.showCategories = !this.showCategories;\n    },\n    getDetails(item) {\n      this.$router.push({ path: `/details/${item.id}` });\n    },\n    getArticles() {\n      axios\n        .get(\"https://59esd0ee.directus.app/items/posts\")\n        .then((response) => {\n          console.log(\"success\", response.data.data);\n          this.articles = response.data.data;\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n        });\n    },\n    getCategories() {\n      axios\n        .get(\"https://59esd0ee.directus.app/items/categories\")\n        .then((response) => {\n          console.log(\"success\", response.data.data);\n          this.categories = response.data.data;\n        })\n        .catch((error) => {\n          console.log(\"error\", error);\n        });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.article {\n  background-color: white;\n  border-radius: 10px;\n  transition: 0.3s;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 30px 10px;\n  /* border: 2px solid pink; */\n}\n.article:hover {\n  cursor: pointer;\n  /* background-color: rgba(211, 211, 211, 0.761); */\n  transition: 0.3s;\n}\n.article-title {\n  padding: 10px;\n}\n\n#al-main {\n  background-color: #f6e4d1;\n  /* border: 2px solid red; */\n  min-height: calc(100vh - 56px);\n  padding: 20px 0;\n}\n\n@media (min-width: 795px) {\n  .article {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    transition: 0.3s;\n    position: relative;\n    bottom: 0;\n  }\n  .article:hover {\n    bottom: 20px;\n    transition: 0.3s;\n  }\n  .article img {\n    max-height: 400px;\n  }\n  #a-wrapper {\n    display: flex;\n    flex-wrap: wrap;\n    justify-content: space-evenly;\n    gap: 20px;\n  }\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}